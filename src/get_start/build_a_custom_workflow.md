# LangGraph 自定义工作流教程

本教程基于 LangGraph 官方文档“为什么选择 LangGraph”及其基础教程系列（步骤1-6），系统总结了 LangGraph 的核心理念，并通过标准 Python 代码封装了一个可扩展的多功能智能体工作流。

## 目录
1. [LangGraph 核心优势](#langgraph-核心优势)
2. [基础教程步骤与代码封装](#基础教程步骤与代码封装)
    - [步骤1：构建基础聊天机器人](#步骤1构建基础聊天机器人)
    - [步骤2：集成工具](#步骤2集成工具)
    - [步骤3：添加记忆能力](#步骤3添加记忆能力)
    - [步骤4：引入人类参与](#步骤4引入人类参与)
    - [步骤5：自定义状态](#步骤5自定义状态)
    - [步骤6：时光回溯](#步骤6时光回溯)
3. [完整代码示例](#完整代码示例)
4. [运行方法](#运行方法)
5. [扩展建议](#扩展建议)

---

## LangGraph 核心优势
- **可靠性与可控性**：支持中断、人工审核、持久化上下文，适合长流程复杂任务。
- **低门槛高扩展**：底层原语灵活，支持多智能体协作与自定义。
- **流式支持**：原生 token 级流式推理与中间步骤可视化。

---

## 基础教程步骤与代码封装

### 步骤1：构建基础聊天机器人
- 定义 StateGraph 状态结构（如 messages），并添加 LLM 节点，实现最基础的对话。

### 步骤2：集成工具
- 通过工具（如 Web 搜索）扩展智能体能力，LLM 可自动调用工具。

### 步骤3：添加记忆能力
- 利用 MemorySaver/SqliteSaver 等持久化机制，实现多轮对话记忆。

### 步骤4：引入人类参与
- 通过 interrupt 机制，支持人工审核/补充，打造人类-智能体协作流。

### 步骤5：自定义状态
- 在 State 中添加自定义字段，实现更复杂的业务流程和状态管理。

### 步骤6：时光回溯
- 利用 get_state_history 和 checkpoint，支持对话/流程的回溯与分支探索。

---

## 完整代码示例
详见 `build_a_custom_workflow.py`，每个步骤均有独立函数和详细注释。

---

## 运行方法
1. 安装依赖：
   ```bash
   pip install langgraph langchain langchain-tavily
   ```
2. 配置 API Key（如 OpenAI、Tavily 等）。
3. 运行示例：
   ```bash
   python src/get_start/build_a_custom_workflow.py
   ```

---

## 扩展建议
- 增加更多工具与外部 API
- 多智能体协作与角色分工
- 结合数据库实现持久化
- 集成 Web UI 或命令行界面

---

> 本教程代码与文档均遵循标准 Python 开发规范，便于二次开发与扩展。
